<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <title>国际空间站位置</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <h1>国际空间站位置</h1>
    <p>纬度： <span id="latitude"></span></p>
    <p>经度： <span id="longitude"></span></p>
    <p>高度： <span id="altitude"></span> 公里</p>
    <p>上次更新时间： <span id="timestamp"></span></p>
    <div id="map" style="width: 100%; height: 500px;"></div>
    <script>
      function updateLocation() {
        $.getJSON('http://api.open-notify.org/iss-now.json', function(data) {
          var latitude = data.iss_position.latitude;
          var longitude = data.iss_position.longitude;
          var altitude = (data.iss_position.altitude / 1000).toFixed(2);
          var timestamp = new Date(data.timestamp * 1000).toLocaleString();
          $('#latitude').text(latitude);
          $('#longitude').text(longitude);
          $('#altitude').text(altitude);
          $('#timestamp').text(timestamp);
          var map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: parseFloat(latitude), lng: parseFloat(longitude)},
            zoom: 4
          });
          var marker = new google.maps.Marker({
            position: {lat: parseFloat(latitude), lng: parseFloat(longitude)},
            map: map,
            title: '国际空间站'
          });
        });
      }
      $(document).ready(function() {
        updateLocation();
        setInterval(updateLocation, 5000); // 每5秒更新一次位置
      });
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY_HERE&language=zh-CN"></script>
  </body>
</html>
